rules:
  - rule_id: rule_1
    processors: [processor_id_1]
    expr: (cluster_hardware_metric_0{node="0"}) > 200
    duration: 1s
    description: rule to change frequency for bookkeeping metrics from 30 sec to 10 min during mild stress
    firing_action:
      action_type: create_dag
      processors:
      - type: filter
        id: f2
        metrics:
          metric_name: cluster_hardware_metric_0
          condition: node=0
          action: include
      dag:
        - node: f2
          children: []
    resolved_action:
      action_type: delete_dag

  - rule_id: rule_2
    processors: [processor_id_2]
    expr: (app_A_network_metric_0{IP="192.168.1.3"}) > 200
    duration: 1s
    description: rule to change frequency for bookkeeping metrics from 30 sec to 10 min during mild stress
    firing_action:
      action_type: create_dag
      processors:
      - type: frequency
        id: f1
        metrics:
          metric_name: app_A_network_metric_0
          condition: IP=192.168.1.3
          interval: '5000'
      dag:
        - node: f1
          children: []
    resolved_action:
      action_type: delete_dag
